import { reactive } from 'vue'
import { useRecipeStore } from '@/store/recipeStore'
const recipeStore = useRecipeStore(),
    recipe = reactive({
        title: '',
        description: '',
        steps: [],
        ingredients: [],
        image: 'https://media.sproutsocial.com/uploads/2017/02/10x-featured-social-media-image-size.png',
        lang: 'ro',
        time: null,
        hot: null,
    }),
    utils = reactive({ ingredient: null, step: null }),
    addIngredient = (e) => {
        e.length > 0 && (recipe.ingredients.push(e), (utils.ingredient.value = ''))
    },
    addStep = (e) => {
        e.length > 0 && (recipe.steps.push(e), (utils.step.value = ''))
    },
    deleteIngredient = (e) => recipe.ingredients.splice(e, 1),
    deleteStep = (e) => steps.splice(e, 1),
    submit = (e) => recipeStore.createRecipe(e)
export function useRecipe() {
    return {
        recipe: recipe,
        utils: utils,
        addIngredient: addIngredient,
        addStep: addStep,
        deleteIngredient: deleteIngredient,
        deleteStep: deleteStep,
        submit: submit,
    }
}
